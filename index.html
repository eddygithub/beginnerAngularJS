<!DOCTYPE html>
<html ng-app="beginnerApp">
<head>
	<title>Learning AngularJS</title>
</head>
<body>
	<div>
			<!-- Placeholder for views -->
			<div ng-view=""></div>
	</div>

	<script src="Scripts/angular.js"></script>
    <script src="Scripts/angular-route.js"></script>

	<script>
		var beginnerApp = angular.module('beginnerApp', ['ngRoute']);

		beginnerApp.config(function ($routeProvider){
			$routeProvider
			.when('/view1',
				{
					controller: 'SimpleController',
					templateUrl: 'Partials/View1.html'
				})
			.when('/view2', 
				{	
					controller: 'SimpleController',
					templateUrl: 'Partials/View2.html'
				})
			.otherwise({ redirectTo: '/view1'});
		});

		beginnerApp.factory('simpleFactory', function(){
			var customers = [
				{ name: 'John Smith', city: 'Phoneix' }, 
				{ name: 'John Doe', city: 'New York' }, 
				{ name: 'Jane Doe', city: 'San Fransico'},
				{ name: 'Walter Sams', city: 'Altanta' }
			];

			var factory = {};
			factory.getCustomers = function(){
				return customers;
			};

			return factory;
		});

		beginnerApp.controller('SimpleController', function ($scope, simpleFactory){
			$scope.customers= [];

			init();

			function init(){
				$scope.customers = simpleFactory.getCustomers();
			}
			$scope.addCustomer = function(){
				$scope.customers.push({name: $scope.newCustomer.name, city: $scope.newCustomer.city});
			}
		});
	</script>
</body>
</html>